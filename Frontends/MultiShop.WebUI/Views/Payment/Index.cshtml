@{
    ViewBag.Title = "Payment";
    Layout = "~/Views/UILayout/_UILayout.cshtml"; 
}
<link rel="stylesheet" href="~/css/payment.css"/>
<div class="container">
    <div class="card-container">
        <!-- Front side of the card -->
        <div class="front">
            <div class="image">
                <img src="~/img/chip.png" alt="chip">
                <img src="~/img/visa.png" alt="visa logo">
            </div>
            <div class="card-number-box">################</div>
            <div class="flexbox">
                <div class="box">
                    <span>Card Holder</span>
                    <div class="card-holder-name">Full Name</div>
                </div>
                <div class="box">
                    <span>Expiration Date</span>
                    <div class="expiration">
                        <span class="exp-month">mm</span>
                        <span class="exp-year">yy</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back side of the card -->
        <div class="back">
            <div class="stripe"></div>
            <div class="box">
                <span>CVV</span>
                <div class="cvv-box"></div>
                <img src="~/img/visa.png" alt="visa logo">
            </div>
        </div>
    </div>

    <!-- Payment form -->
    <form action="">
        <!-- Card number -->
        <div class="inputBox">
            <span>Card Number</span>
            <input type="text" maxlength="16" class="card-number-input">
        </div>

        <!-- Card holder -->
        <div class="inputBox">
            <span>Card Holder</span>
            <input type="text" class="card-holder-input">
        </div>

        <div class="flexbox">
            <!-- Expiration month -->
            <div class="inputBox">
                <span>Month</span>
                <select class="month-input">
                    <option value="month" selected disabled>Select Month</option>
                    @for (var m = 1; m <= 12; m++)
                    {
                        <option value="@m.ToString("D2")">@m.ToString("D2")</option>
                    }
                </select>
            </div>

            <!-- Expiration year -->
            <div class="inputBox">
                <span>Year</span>
                <select class="year-input">
                    <option value="year" selected disabled>Select Year</option>
                    @for (var i = DateTime.Now.Year; i <= DateTime.Now.Year + 10; i++)
                    {
                        <option value="@i">@i</option>
                    }
                </select>
            </div>

            <!-- CVV -->
            <div class="inputBox">
                <span>CVV</span>
                <input type="text" maxlength="4" class="cvv-input">
            </div>
        </div>

        <!-- Submit button -->
        <input type="submit" value="Complete Payment" class="submit-btn">
    </form>
</div>

@{
    <script>
        // Update card number dynamically
        document.querySelector('.card-number-input').oninput = () => {
            document.querySelector('.card-number-box').innerText =
                document.querySelector('.card-number-input').value;
        }

        // Update card holder name dynamically
        document.querySelector('.card-holder-input').oninput = () => {
            document.querySelector('.card-holder-name').innerText =
                document.querySelector('.card-holder-input').value;
        }

        // Update expiration month dynamically
        document.querySelector('.month-input').oninput = () => {
            document.querySelector('.exp-month').innerText =
                document.querySelector('.month-input').value;
        }

        // Update expiration year dynamically
        document.querySelector('.year-input').oninput = () => {
            document.querySelector('.exp-year').innerText =
                document.querySelector('.year-input').value;
        }

        // Flip card when entering CVV
        document.querySelector('.cvv-input').onmouseenter = () => {
            document.querySelector('.front').style.transform =
                'perspective(1000px) rotateY(-180deg)';
            document.querySelector('.back').style.transform =
                'perspective(1000px) rotateY(0deg)';
        }

        // Flip back when leaving CVV
        document.querySelector('.cvv-input').onmouseleave = () => {
            document.querySelector('.front').style.transform =
                'perspective(1000px) rotateY(0deg)';
            document.querySelector('.back').style.transform =
                'perspective(1000px) rotateY(180deg)';
        }

        // Update CVV dynamically
        document.querySelector('.cvv-input').oninput = () => {
            document.querySelector('.cvv-box').innerText =
                document.querySelector('.cvv-input').value;
        }
    </script>
}
